<!doctype html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="https://kt5xwoxw7ivvaxql.public.blob.vercel-storage.com/axie-studio-logo.png-KXUZ7kPWDExqtd3vBbevDyEnUzu8Il.jpeg" />
    <link rel="icon" type="image/jpeg" href="/Axiestudiologo.jpg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- Enhanced PWA Meta Tags -->
    <meta name="application-name" content="Axie Studio">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Axie Studio">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="msapplication-TileColor" content="#3b82f6">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-orientations" content="portrait">
    
    <!-- Enhanced PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Enhanced Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="57x57" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="60x60" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="72x72" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="76x76" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="114x114" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="120x120" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="144x144" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="152x152" href="/Axiestudiologo.jpg">
    <link rel="apple-touch-icon" sizes="180x180" href="/Axiestudiologo.jpg">
    
    <!-- Additional PWA Icons -->
    <link rel="icon" type="image/jpeg" sizes="16x16" href="/Axiestudiologo.jpg">
    <link rel="icon" type="image/jpeg" sizes="32x32" href="/Axiestudiologo.jpg">
    <link rel="icon" type="image/jpeg" sizes="96x96" href="/Axiestudiologo.jpg">
    <link rel="icon" type="image/jpeg" sizes="192x192" href="/Axiestudiologo.jpg">
    
    <!-- Primary Meta Tags -->
    <title>Axie Studio - Professionella Webbplatser, Bokningssystem & E-handel i Sverige</title>
    <meta name="title" content="Axie Studio - Professionella Webbplatser, Bokningssystem & E-handel i Sverige" />
    <meta name="description" content="Axie Studio skapar moderna webbplatser, bokningssystem och e-handelslösningar för svenska företag. Från 8 995 kr. Kostnadsfri konsultation. ⭐ Betrodd av hundratals." />
    <meta name="keywords" content="webbyrå, webbdesign, bokningssystem, e-handel, mobilappar, webbutveckling, Jönköping, Sverige, webbplats, webshop, digital marknadsföring" />
    <meta name="author" content="Axie Studio" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://axiestudio.se/" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://axiestudio.se/" />
    <meta property="og:title" content="Axie Studio - Professionella Webbplatser, Bokningssystem & E-handel i Sverige" />
    <meta property="og:description" content="Axie Studio skapar moderna webbplatser, bokningssystem och e-handelslösningar för svenska företag. Från 8 995 kr. Kostnadsfri konsultation." />
    <meta property="og:image" content="/Axiestudiologo.jpg" />
    <meta property="og:locale" content="sv_SE" />
    <meta property="og:site_name" content="Axie Studio" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://axiestudio.se/" />
    <meta property="twitter:title" content="Axie Studio - Professionella Webbplatser, Bokningssystem & E-handel i Sverige" />
    <meta property="twitter:description" content="Axie Studio skapar moderna webbplatser, bokningssystem och e-handelslösningar för svenska företag. Från 8 995 kr. Kostnadsfri konsultation." />
    <meta property="twitter:image" content="/Axiestudiologo.jpg" />
    
    <!-- Enhanced PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6" />
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#3b82f6" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1e40af" />
    <meta name="msapplication-TileColor" content="#3b82f6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Axie Studio" />
    
    <!-- Enhanced Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://calendar.google.com https://www.google.com https://www.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: blob:; media-src 'self' https: blob:; connect-src 'self' https: wss:; frame-src 'self' https://calendar.google.com https://www.google.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="SE-F" />
    <meta name="geo.placename" content="Jönköping" />
    <meta name="geo.position" content="57.7826;14.1618" />
    <meta name="ICBM" content="57.7826, 14.1618" />
    
    <!-- Enhanced Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://kt5xwoxw7ivvaxql.public.blob.vercel-storage.com">
    <link rel="dns-prefetch" href="https://calendar.google.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Axie Studio",
      "image": "/Axiestudiologo.jpg",
      "description": "Professionell webbyrå som skapar moderna webbplatser, bokningssystem och e-handelslösningar för svenska företag.",
      "url": "https://axiestudio.se",
      "telephone": "+46735132620",
      "email": "stefan@axiestudio.se",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Jönköping",
        "addressCountry": "SE"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 57.7826,
        "longitude": 14.1618
      },
      "openingHours": "Mo-Fr 09:00-17:00",
      "priceRange": "8995-14995 SEK",
      "serviceArea": {
        "@type": "Country",
        "name": "Sverige"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Digitala tjänster",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Webbplatsutveckling",
              "description": "Professionella webbplatser med responsiv design och SEO-optimering"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Bokningssystem",
              "description": "Avancerade bokningssystem med betalningsintegration och automatiska påminnelser"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "E-handelslösningar",
              "description": "Kompletta webshoppar med produkthantering och säkra betalningar"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Mobilappar",
              "description": "Cross-platform mobilappar för iOS och Android"
            }
          }
        ]
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "reviewCount": "500"
      },
      "sameAs": [
        "https://www.facebook.com/profile.php?id=61573009403109",
        "https://www.instagram.com/axiestudi0/",
        "https://www.youtube.com/@AxieStudio_se"
      ]
    }
    </script>
    
    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Vad kostar en webbplats från Axie Studio?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Våra webbplatser börjar från 8 995 kr i startavgift plus 495 kr per månad. Priset inkluderar design, utveckling, hosting och support."
          }
        },
        {
          "@type": "Question",
          "name": "Hur lång tid tar det att utveckla en webbplats?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Genomsnittlig leveranstid för en komplett webbplats är 14 dagar. Mer komplexa projekt kan ta längre tid beroende på omfattning."
          }
        },
        {
          "@type": "Question",
          "name": "Ingår SEO-optimering i era webbplatser?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Ja, alla våra webbplatser är SEO-optimerade från start med teknisk SEO, snabba laddningstider och mobilanpassning."
          }
        },
        {
          "@type": "Question",
          "name": "Kan ni hjälpa till med e-handel och webshoppar?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolut! Vi skapar kompletta e-handelslösningar med produkthantering, säkra betalningar och orderhantering från 10 995 kr."
          }
        }
      ]
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Enhanced PWA Installation Script -->
    <script>
      // Enhanced Service Worker Registration
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', async () => {
          try {
            const registration = await navigator.serviceWorker.register('/sw.js', {
              scope: '/'
            });
            
            console.log('✅ PWA: Service Worker registered successfully:', registration);
            
            // Handle updates
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  // New content is available, prompt user to refresh
                  if (confirm('New version available! Refresh to update?')) {
                    window.location.reload();
                  }
                }
              });
            });
            
            // Check for updates periodically
            setInterval(() => {
              registration.update();
            }, 60000); // Check every minute
            
          } catch (error) {
            console.log('❌ PWA: Service Worker registration failed:', error);
          }
        });
      }

      // Enhanced App Installation Handling
      let deferredPrompt;
      let installButton;
      
      window.addEventListener('beforeinstallprompt', (e) => {
        console.log('🎯 PWA: Before install prompt triggered');
        e.preventDefault();
        deferredPrompt = e;
        
        // Show custom install button
        showInstallButton();
      });

      function showInstallButton() {
        if (!installButton) {
          installButton = document.createElement('button');
          installButton.innerHTML = '📱 Install App';
          installButton.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            font-size: 14px;
          `;
          
          installButton.addEventListener('mouseenter', () => {
            installButton.style.transform = 'translateY(-2px)';
            installButton.style.boxShadow = '0 6px 16px rgba(59, 130, 246, 0.4)';
          });
          
          installButton.addEventListener('mouseleave', () => {
            installButton.style.transform = 'translateY(0)';
            installButton.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.3)';
          });
          
          installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
              deferredPrompt.prompt();
              const { outcome } = await deferredPrompt.userChoice;
              console.log(`PWA: User ${outcome} the install prompt`);
              deferredPrompt = null;
              hideInstallButton();
            }
          });
          
          document.body.appendChild(installButton);
          
          // Auto-hide after 10 seconds
          setTimeout(hideInstallButton, 10000);
        }
      }
      
      function hideInstallButton() {
        if (installButton) {
          installButton.style.opacity = '0';
          installButton.style.transform = 'translateY(100px)';
          setTimeout(() => {
            if (installButton && installButton.parentNode) {
              installButton.parentNode.removeChild(installButton);
              installButton = null;
            }
          }, 300);
        }
      }

      window.addEventListener('appinstalled', () => {
        console.log('✅ PWA: App was installed successfully');
        deferredPrompt = null;
        hideInstallButton();
        
        // Show welcome message
        setTimeout(() => {
          if ('serviceWorker' in navigator && 'Notification' in window) {
            Notification.requestPermission().then(permission => {
              if (permission === 'granted') {
                new Notification('Welcome to Axie Studio!', {
                  body: 'App installed successfully. You can now access it from your home screen.',
                  icon: 'https://kt5xwoxw7ivvaxql.public.blob.vercel-storage.com/axie-studio-logo.png-KXUZ7kPWDExqtd3vBbevDyEnUzu8Il.jpeg'
                });
              }
            });
          }
        }, 1000);
      });

      // Enhanced Network Status Handling
      function updateNetworkStatus() {
        const isOnline = navigator.onLine;
        document.body.classList.toggle('offline', !isOnline);
        
        if (isOnline) {
          console.log('🌐 PWA: Back online');
          // Send message to service worker to trigger sync
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.ready.then(registration => {
              if (registration.active) {
                registration.active.postMessage({
                  type: 'TRIGGER_SYNC'
                });
              }
            });
          }
        } else {
          console.log('📴 PWA: Gone offline');
        }
      }

      window.addEventListener('online', updateNetworkStatus);
      window.addEventListener('offline', updateNetworkStatus);
      
      // Initial network status check
      updateNetworkStatus();

      // Enhanced Performance Monitoring
      if ('performance' in window) {
        window.addEventListener('load', () => {
          setTimeout(() => {
            const perfData = performance.getEntriesByType('navigation')[0];
            console.log('📊 PWA: Performance metrics:', {
              loadTime: perfData.loadEventEnd - perfData.loadEventStart,
              domContentLoaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,
              firstPaint: performance.getEntriesByType('paint').find(entry => entry.name === 'first-paint')?.startTime,
              firstContentfulPaint: performance.getEntriesByType('paint').find(entry => entry.name === 'first-contentful-paint')?.startTime
            });
          }, 0);
        });
      }

      // Enhanced Background Sync for Forms
      function saveFormDataOffline(formData, type = 'contact-form') {
        if ('indexedDB' in window) {
          const request = indexedDB.open('axie-studio-db', 2);
          
          request.onsuccess = (event) => {
            const db = event.target.result;
            const transaction = db.transaction([type + 's'], 'readwrite');
            const store = transaction.objectStore(type + 's');
            
            store.add({
              id: Date.now(),
              data: formData,
              timestamp: new Date().toISOString()
            });
            
            console.log('💾 PWA: Form data saved offline');
          };
        }
      }

      // Make saveFormDataOffline globally available
      window.saveFormDataOffline = saveFormDataOffline;

      // Enhanced Notification Handling
      if ('Notification' in window && 'serviceWorker' in navigator) {
        // Request notification permission on user interaction
        document.addEventListener('click', () => {
          if (Notification.permission === 'default') {
            Notification.requestPermission().then(permission => {
              console.log('🔔 PWA: Notification permission:', permission);
            });
          }
        }, { once: true });
      }

      // Enhanced Share API
      if ('share' in navigator) {
        window.shareContent = async (title, text, url) => {
          try {
            await navigator.share({ title, text, url });
            console.log('📤 PWA: Content shared successfully');
          } catch (error) {
            console.log('📤 PWA: Share failed:', error);
            // Fallback to clipboard
            if ('clipboard' in navigator) {
              await navigator.clipboard.writeText(url);
              console.log('📋 PWA: URL copied to clipboard');
            }
          }
        };
      }

      console.log('🚀 PWA: Enhanced initialization complete');
    </script>
  </body>
</html>